{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/haris/OneDrive/Desktop/google-keeps/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { bgImages, bgColors } from 'src/app/interfaces/tooltip';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/shared.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../pipes/ph.pipe\";\nimport * as i4 from \"../../pipes/cbox-done.pipe\";\nconst _c0 = [\"main\"];\nconst _c1 = [\"notePlaceholder\"];\nconst _c2 = [\"noteMain\"];\nconst _c3 = [\"noteContainer\"];\nconst _c4 = [\"noteTitle\"];\nconst _c5 = [\"noteBody\"];\nconst _c6 = [\"notePin\"];\nconst _c7 = [\"cboxInput\"];\nconst _c8 = [\"cboxPh\"];\nconst _c9 = [\"moreMenuTtBtn\"];\n\nfunction InputComponent_ng_container_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"div\", 42)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 43);\n    i0.ɵɵlistener(\"click\", function InputComponent_ng_container_18_div_1_Template_div_click_4_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const label_r21 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(label_r21.added = !label_r21.added);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const label_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(label_r21.name);\n  }\n}\n\nfunction InputComponent_ng_container_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, InputComponent_ng_container_18_div_1_Template, 5, 1, \"div\", 40);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const label_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", label_r21.added);\n  }\n}\n\nfunction InputComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"div\", 45);\n    i0.ɵɵelement(2, \"div\", 46)(3, \"div\", 47);\n    i0.ɵɵelementStart(4, \"div\", 48, 49);\n    i0.ɵɵlistener(\"click\", function InputComponent_div_21_Template_div_click_4_listener() {\n      i0.ɵɵrestoreView(_r30);\n\n      const _r27 = i0.ɵɵreference(5);\n\n      const ctx_r29 = i0.ɵɵnextContext();\n\n      const _r16 = i0.ɵɵreference(40);\n\n      return i0.ɵɵresetView(ctx_r29.openTooltip(_r27, _r16));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"div\", 50);\n    i0.ɵɵelementStart(7, \"div\", 51);\n    i0.ɵɵlistener(\"click\", function InputComponent_div_21_Template_div_click_7_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r31 = i0.ɵɵnextContext();\n      ctx_r31.isArchived = true;\n      return i0.ɵɵresetView(ctx_r31.saveNote());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 52, 53);\n    i0.ɵɵlistener(\"click\", function InputComponent_div_21_Template_div_click_8_listener() {\n      i0.ɵɵrestoreView(_r30);\n\n      const _r28 = i0.ɵɵreference(9);\n\n      const ctx_r32 = i0.ɵɵnextContext();\n\n      const _r14 = i0.ɵɵreference(29);\n\n      return i0.ɵɵresetView(ctx_r32.openTooltip(_r28, _r14));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"div\", 54)(11, \"div\", 55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 56);\n    i0.ɵɵlistener(\"click\", function InputComponent_div_21_Template_div_click_12_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.saveNote());\n    });\n    i0.ɵɵtext(13, \" Close \");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction InputComponent_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 45);\n    i0.ɵɵelement(2, \"div\", 58)(3, \"div\", 59);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction InputComponent_ng_template_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵtext(1, \"Take a note\\u2026\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 61, 62);\n    i0.ɵɵlistener(\"input\", function InputComponent_ng_template_24_Template_div_input_2_listener() {\n      i0.ɵɵrestoreView(_r36);\n\n      const _r34 = i0.ɵɵreference(3);\n\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.updateInputLength({\n        body: _r34.innerHTML.length\n      }));\n    })(\"paste\", function InputComponent_ng_template_24_Template_div_paste_2_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.pasteEvent($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r34 = i0.ɵɵreference(3);\n\n    i0.ɵɵproperty(\"hidden\", _r34.innerHTML.length);\n  }\n}\n\nfunction InputComponent_ng_template_26_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 73);\n    i0.ɵɵelementStart(2, \"div\", 74);\n    i0.ɵɵlistener(\"click\", function InputComponent_ng_template_26_ng_container_8_Template_div_click_2_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r43 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r43.isCboxCompletedListCollapsed = !ctx_r43.isCboxCompletedListCollapsed);\n    });\n    i0.ɵɵelement(3, \"div\", 75);\n    i0.ɵɵelementStart(4, \"div\")(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"cboxDone\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r39 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"rotate\", !ctx_r39.isCboxCompletedListCollapsed);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"(\", i0.ɵɵpipeBind2(7, 3, ctx_r39.checkBoxes, true).length, \") Completed item\");\n  }\n}\n\nconst _c10 = function () {\n  return {\n    isDone: true\n  };\n};\n\nfunction InputComponent_ng_template_26_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 63);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r41 = i0.ɵɵreference(12);\n\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r41)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction0(2, _c10));\n  }\n}\n\nfunction InputComponent_ng_template_26_ng_template_11_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r51 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 76);\n    i0.ɵɵelement(2, \"div\", 77);\n    i0.ɵɵelementStart(3, \"div\", 78);\n    i0.ɵɵlistener(\"click\", function InputComponent_ng_template_26_ng_template_11_ng_container_0_Template_div_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r51);\n      const cb_r47 = restoredCtx.$implicit;\n      const ctx_r50 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r50.cboxTools(cb_r47.id).check());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 66)(5, \"div\", 79, 80);\n    i0.ɵɵlistener(\"blur\", function InputComponent_ng_template_26_ng_template_11_ng_container_0_Template_div_blur_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r51);\n      const cb_r47 = restoredCtx.$implicit;\n\n      const _r49 = i0.ɵɵreference(6);\n\n      const ctx_r52 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r52.cboxTools(cb_r47.id).update(_r49));\n    })(\"keydown\", function InputComponent_ng_template_26_ng_template_11_ng_container_0_Template_div_keydown_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r51);\n      const cb_r47 = restoredCtx.$implicit;\n      const ctx_r53 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r53.cBoxKeyDown($event, cb_r47.id));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 81);\n    i0.ɵɵlistener(\"click\", function InputComponent_ng_template_26_ng_template_11_ng_container_0_Template_div_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r51);\n      const cb_r47 = restoredCtx.$implicit;\n      const ctx_r54 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r54.cboxTools(cb_r47.id).remove());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const cb_r47 = ctx.$implicit;\n    const last_r48 = ctx.last;\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"done\", cb_r47.done);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"cbox-done\", cb_r47.done);\n    i0.ɵɵproperty(\"innerHTML\", cb_r47.data, i0.ɵɵsanitizeHtml);\n    i0.ɵɵattribute(\"data-cbox-last\", last_r48);\n  }\n}\n\nfunction InputComponent_ng_template_26_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, InputComponent_ng_template_26_ng_template_11_ng_container_0_Template, 8, 6, \"ng-container\", 16);\n    i0.ɵɵpipe(1, \"cboxDone\");\n  }\n\n  if (rf & 2) {\n    const isDone_r45 = ctx.isDone;\n    const ctx_r42 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(1, 1, ctx_r42.checkBoxes, isDone_r45));\n  }\n}\n\nconst _c11 = function () {\n  return {\n    isDone: false\n  };\n};\n\nfunction InputComponent_ng_template_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainer(0, 63);\n    i0.ɵɵelementStart(1, \"div\", 64);\n    i0.ɵɵelement(2, \"div\", 65);\n    i0.ɵɵelementStart(3, \"div\", 66)(4, \"div\", 67);\n    i0.ɵɵtext(5, \"List item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 68, 69);\n    i0.ɵɵlistener(\"keydown\", function InputComponent_ng_template_26_Template_div_keydown_6_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r55 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r55.cboxPhKeyDown($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(8, InputComponent_ng_template_26_ng_container_8_Template, 8, 6, \"ng-container\", 70);\n    i0.ɵɵpipe(9, \"cboxDone\");\n    i0.ɵɵtemplate(10, InputComponent_ng_template_26_ng_container_10_Template, 1, 3, \"ng-container\", 71);\n    i0.ɵɵtemplate(11, InputComponent_ng_template_26_ng_template_11_Template, 2, 4, \"ng-template\", null, 72, i0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    const _r41 = i0.ɵɵreference(12);\n\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r41)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction0(7, _c11));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind2(9, 4, ctx_r13.checkBoxes, true).length);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r13.isCboxCompletedListCollapsed);\n  }\n}\n\nfunction InputComponent_ng_container_42_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r59 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 26);\n    i0.ɵɵlistener(\"click\", function InputComponent_ng_container_42_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r59);\n      const color_r57 = restoredCtx.$implicit;\n      const ctx_r58 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r58.colorMenu.bgColor(color_r57.value));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const color_r57 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-color\", color_r57.value);\n    i0.ɵɵclassProp(\"nocolor\", color_r57.value === \"\");\n    i0.ɵɵattribute(\"data-bg-color\", color_r57.key);\n  }\n}\n\nfunction InputComponent_ng_container_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r62 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 26);\n    i0.ɵɵlistener(\"click\", function InputComponent_ng_container_45_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r62);\n      const image_r60 = restoredCtx.$implicit;\n      const ctx_r61 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r61.colorMenu.bgImage(image_r60.value));\n    });\n    i0.ɵɵpipe(2, \"ph\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const image_r60 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-image\", i0.ɵɵpipeBind1(2, 5, image_r60.value));\n    i0.ɵɵclassProp(\"noimage\", image_r60.value === \"\");\n    i0.ɵɵattribute(\"data-bg-image\", image_r60.key);\n  }\n}\n\nfunction InputComponent_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r65 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 82);\n    i0.ɵɵlistener(\"click\", function InputComponent_div_55_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r65);\n      const label_r63 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(label_r63.added = !label_r63.added);\n    });\n    i0.ɵɵelement(1, \"div\", 83);\n    i0.ɵɵelementStart(2, \"div\", 84);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const label_r63 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"done\", label_r63.added);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(label_r63.name);\n  }\n}\n\nexport class InputComponent {\n  constructor(cd, Shared) {\n    this.cd = cd;\n    this.Shared = Shared; //? -----------------------------------------------------\n\n    this.isEditing = false;\n    this.noteToEdit = {}; //? -----------------------------------------------------\n\n    this.checkBoxes = [];\n    this.labels = [];\n    this.isArchived = false;\n    this.isTrashed = false;\n    this.isCboxCompletedListCollapsed = false;\n    this.isCbox = new BehaviorSubject(false);\n    this.inputLength = new BehaviorSubject({\n      title: 0,\n      body: 0,\n      cb: 0\n    }); //\n\n    this.bgColors = bgColors;\n    this.bgImages = bgImages;\n    this.moreMenuEls = {\n      delete: {\n        disabled: true\n      },\n      copy: {\n        disabled: true\n      },\n      checkbox: {\n        value: 'Show checkboxes'\n      }\n    };\n\n    this.mouseDownEvent = event => {\n      if (this.isEditing) return;\n      let el = this.main.nativeElement;\n      let isTooltipOpen = document.querySelector('[data-is-tooltip-open=\"true\"]'); // if tooltip is open, we close is\n\n      if (isTooltipOpen !== null) {\n        if (!el.contains(event.target) && !isTooltipOpen.contains(event.target)) {}\n      } // else we close the note\n      else if (!el.contains(event.target)) {\n        this.saveNote();\n        this.closeNote();\n      }\n    };\n\n    this.colorMenu = {\n      bgColor: data => {\n        this.noteMain.nativeElement.style.backgroundColor = data;\n        this.noteMain.nativeElement.style.borderColor = data;\n      },\n      bgImage: data => {\n        this.noteContainer.nativeElement.style.backgroundImage = `url(${data})`;\n      }\n    };\n  } //? placeholder  --------------------------------------------------\n\n\n  toggleNoteVisibility(condition) {\n    if (condition) {\n      this.notePlaceholder.nativeElement.hidden = true;\n      this.noteMain.nativeElement.hidden = false;\n    } else {\n      this.notePlaceholder.nativeElement.hidden = false;\n      this.noteMain.nativeElement.hidden = true;\n    }\n  }\n\n  notePhClick() {\n    this.toggleNoteVisibility(true);\n    if (this.isCbox.value) this.cboxPh?.nativeElement.focus();else this.noteBody?.nativeElement.focus();\n\n    if (!this.isEditing) {\n      this.inputLength.next({\n        title: 0,\n        body: 0,\n        cb: 0\n      });\n      document.addEventListener('mousedown', this.mouseDownEvent);\n    }\n\n    this.labels = JSON.parse(JSON.stringify(this.Shared.label.list));\n    /*\r\n    the correct way is to use `mousedown` because :\r\n    https://www.javascripttutorial.net/javascript-dom/javascript-mouse-events/\r\n    click & mouseup, wont get the job done.\r\n    when u try to select a text, and you loose the click btn outside `notesContainer`,\r\n    `closeNote()` will be called\r\n    https://prnt.sc/Wu_19wKRAYig\r\n    */\n  }\n\n  closeNote() {\n    this.toggleNoteVisibility(false);\n    document.removeEventListener('mousedown', this.mouseDownEvent);\n    this.reset();\n  } //? note  -----------------------------------------------------\n\n\n  saveNote() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.cboxInput?.nativeElement.blur();\n      let noteObj = {\n        noteTitle: _this.noteTitle.nativeElement.innerHTML,\n        noteBody: _this.noteBody?.nativeElement.innerHTML ? _this.noteBody?.nativeElement.innerHTML : '',\n        pinned: _this.notePin.nativeElement.dataset['pinned'] === \"true\",\n        bgColor: _this.noteMain.nativeElement.style.backgroundColor,\n        bgImage: _this.noteContainer.nativeElement.style.backgroundImage,\n        checkBoxes: _this.checkBoxes,\n        isCbox: _this.isCbox.value,\n        labels: _this.labels.filter(x => x.added),\n        archived: _this.isArchived,\n        trashed: _this.isTrashed\n      };\n\n      if (noteObj.noteTitle.length || noteObj.noteBody && noteObj.noteBody?.length || _this.checkBoxes.length) {\n        if (_this.isEditing) {\n          _this.Shared.note.db.update(noteObj);\n\n          _this.Shared.closeModal.next(true);\n        } else {\n          let id = yield _this.Shared.note.db.add(noteObj);\n\n          if (_this.isArchived) {\n            _this.Shared.snackBar({\n              action: 'archived',\n              opposite: 'unarchived'\n            }, {\n              archived: false\n            }, id);\n          }\n\n          if (_this.isTrashed) {\n            _this.Shared.snackBar({\n              action: 'trashed',\n              opposite: 'untrashed'\n            }, {\n              trashed: false\n            }, id);\n          }\n\n          _this.closeNote();\n        }\n      }\n    })();\n  }\n\n  reset() {\n    this.noteTitle.nativeElement.innerHTML = '';\n    if (this.noteBody) this.noteBody.nativeElement.innerHTML = '';\n    this.notePin.nativeElement.dataset['pinned'] = 'false';\n    this.noteContainer.nativeElement.style.backgroundImage = '';\n    this.noteMain.nativeElement.style.backgroundColor = '';\n    this.noteMain.nativeElement.style.borderColor = ''; //\n\n    this.checkBoxes = [];\n    this.isCbox.next(false);\n    this.isArchived = false;\n    this.isTrashed = false;\n    this.isCboxCompletedListCollapsed = false;\n    this.inputLength.next({\n      title: 0,\n      body: 0,\n      cb: 0\n    });\n  }\n\n  pasteEvent(event) {\n    // to remove text styling -> before : https://prnt.sc/a7M5g-kbofba, after : https://prnt.sc/D7KEV6rdlm_7\n    event.preventDefault();\n    let text = event.clipboardData?.getData('text/plain');\n    let target = event.target;\n    target.innerText += text;\n    let sel = window.getSelection();\n    sel?.selectAllChildren(target);\n    sel?.collapseToEnd(); // document.execCommand('insertText', false, text)\n    // ! TODO, when u paste, yji fel <br> => so ywali maybanch\n  } //? checkboxes  --------------------------------------------------\n\n\n  cboxPhKeyDown($event) {\n    $event.preventDefault();\n    const isLetter = /^[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"²^\\\\|,.<>\\/?éèçµ]$/i.test($event.key); // ex : if he clicked the f1 btn for example, nothing would happen, otherwise : \n\n    if (!isLetter) return;\n    let enteredValue = $event.key;\n    this.addCheckBox(enteredValue); // a new checkbox will appear in the html\n\n    this.cd.detectChanges();\n    let el = document.querySelector(`[data-cbox-last=\"true\"]`); // we move the cursor to the end, so the user will just continue what he typed before\n\n    let sel = window.getSelection();\n    if (el) sel?.selectAllChildren(el);\n    sel?.collapseToEnd();\n  }\n\n  addCheckBox(data) {\n    this.checkBoxes.push({\n      done: false,\n      data: data,\n      id: this.checkBoxes.length\n    });\n    this.inputLength.next({ ...this.inputLength.value,\n      cb: this.checkBoxes.length\n    });\n  }\n\n  cBoxKeyDown($event, id) {\n    let target = $event.target;\n\n    if ($event.key === 'Enter') {\n      $event.preventDefault();\n      this.cboxPh.nativeElement.focus();\n    }\n\n    if ($event.key === 'Backspace' && target.innerText.length === 0) {\n      this.cboxPh.nativeElement.focus();\n      this.cboxTools(id).remove();\n    }\n  }\n\n  cboxTools(id) {\n    let i = this.checkBoxes.findIndex(x => x.id === id);\n    let actions = {\n      remove: () => {\n        this.checkBoxes.splice(i, 1);\n        this.inputLength.next({ ...this.inputLength.value,\n          cb: this.checkBoxes.length\n        });\n      },\n      check: () => {\n        this.checkBoxes[i].done = !this.checkBoxes[i].done;\n      },\n      update: el => {\n        let elValue = el?.innerHTML;\n        this.checkBoxes[i].data = elValue;\n      }\n    };\n    return actions;\n  } //? isEditing  -----------------------------------------------------------\n\n\n  innerData(note) {\n    this.notePhClick();\n    this.noteTitle.nativeElement.innerHTML = note.noteTitle;\n    if (this.noteBody) this.noteBody.nativeElement.innerHTML = note.noteBody;\n    this.notePin.nativeElement.dataset['pinned'] = String(note.pinned);\n    this.noteContainer.nativeElement.style.backgroundImage = note.bgImage;\n    this.noteMain.nativeElement.style.backgroundColor = note.bgColor;\n    this.noteMain.nativeElement.style.borderColor = note.bgColor;\n    if (note.checkBoxes) this.checkBoxes = note.checkBoxes;\n    this.isCbox.next(note.isCbox);\n    this.isArchived = note.archived;\n    this.isTrashed = note.trashed; //\n\n    this.inputLength.next({\n      title: note.noteTitle.length,\n      body: note.noteBody ? note.noteBody?.length : 0,\n      cb: note.checkBoxes?.length\n    });\n    note.labels.forEach(noteLabel => {\n      let label = this.labels.find(x => x.name === noteLabel.name);\n      if (label) label.added = noteLabel.added;\n    });\n    this.cd.detectChanges();\n  } //? tooltip  -----------------------------------------------------------\n\n\n  openTooltip(button, tooltipEl) {\n    this.Shared.createTooltip(button, tooltipEl);\n  }\n\n  moreMenu(tooltipEl) {\n    let actions = {\n      trash: () => {\n        if (this.isEditing) {\n          this.Shared.note.db.trash();\n          this.Shared.closeModal.next(true);\n        } else {\n          this.isTrashed = true;\n          this.saveNote();\n        }\n      },\n      clone: () => {\n        this.saveNote();\n      },\n      toggleCbox: () => {\n        this.isCbox.next(!this.isCbox.value);\n      }\n    };\n    this.Shared.closeTooltip(tooltipEl);\n    return actions;\n  } //?  -----------------------------------------------------------\n  // cuz we don't have the spread operator in the template, we need to do this : \n\n\n  updateInputLength(type) {\n    if (type.title != undefined) this.inputLength.next({ ...this.inputLength.value,\n      title: type.title\n    });\n    if (type.body != undefined) this.inputLength.next({ ...this.inputLength.value,\n      body: type.body\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.isEditing) {\n      this.saveNoteSubscription = this.Shared.saveNote.subscribe(x => {\n        if (x) this.saveNote();\n      });\n    } //? ----------------------------------------------------------------\n\n\n    this.isCbox.subscribe(value => {\n      if (value) this.moreMenuEls.checkbox.value = 'Hide checkboxes';else this.moreMenuEls.checkbox.value = 'Show checkboxes';\n    }); //? ----------------------------------------------------------------\n\n    this.inputLength.subscribe(x => {\n      if (x.title || x.body || x.cb) {\n        this.moreMenuEls.delete.disabled = false;\n        this.moreMenuEls.copy.disabled = false;\n      } else {\n        this.moreMenuEls.delete.disabled = true;\n        this.moreMenuEls.copy.disabled = true;\n      }\n    });\n\n    if (this.isEditing) {\n      this.innerData(this.noteToEdit);\n    }\n  }\n\n  ngOnInit() {}\n\n  ngOnDestroy() {\n    this.saveNoteSubscription?.unsubscribe();\n  }\n\n}\n\nInputComponent.ɵfac = function InputComponent_Factory(t) {\n  return new (t || InputComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.SharedService));\n};\n\nInputComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InputComponent,\n  selectors: [[\"app-input\"]],\n  viewQuery: function InputComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(_c2, 5);\n      i0.ɵɵviewQuery(_c3, 5);\n      i0.ɵɵviewQuery(_c4, 5);\n      i0.ɵɵviewQuery(_c5, 5);\n      i0.ɵɵviewQuery(_c6, 5);\n      i0.ɵɵviewQuery(_c7, 5);\n      i0.ɵɵviewQuery(_c8, 5);\n      i0.ɵɵviewQuery(_c9, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.main = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.notePlaceholder = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.noteMain = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.noteContainer = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.noteTitle = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.noteBody = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.notePin = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.cboxInput = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.cboxPh = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.moreMenuTtBtn = _t.first);\n    }\n  },\n  inputs: {\n    isEditing: \"isEditing\",\n    noteToEdit: \"noteToEdit\"\n  },\n  decls: 56,\n  vars: 20,\n  consts: [[\"main\", \"\"], [1, \"placeholder\", 3, \"click\"], [\"notePlaceholder\", \"\"], [\"placeholder\", \"Take a note\\u2026\", \"type\", \"text\", 1, \"input\"], [\"data-pop\", \"New list\", 1, \"check\", \"H\", \"pop\", 3, \"click\"], [\"data-pop\", \"New note with drawing\", 1, \"paint\", \"H\", \"disabled\", \"pop\"], [\"data-pop\", \"New note with image\", 1, \"picture\", \"H\", \"disabled\"], [\"hidden\", \"\", 1, \"note-main\"], [\"noteMain\", \"\"], [1, \"note-container\"], [\"noteContainer\", \"\"], [1, \"note-title\", \"ph\", 3, \"hidden\"], [\"contenteditable\", \"true\", \"spellcheck\", \"true\", 1, \"note-title\", 3, \"input\", \"paste\"], [\"noteTitle\", \"\"], [3, \"ngTemplateOutlet\"], [1, \"labels-container\"], [4, \"ngFor\", \"ngForOf\"], [\"data-pinned\", \"false\", 1, \"pin-icon\", \"H\", \"pop\", 3, \"click\"], [\"notePin\", \"\"], [\"class\", \"icons-container\", 4, \"ngIf\", \"ngIfElse\"], [\"trashed\", \"\"], [\"noteTemplate\", \"\"], [\"checkboxesTemplate\", \"\"], [\"data-tooltip\", \"true\", \"data-is-tooltip-open\", \"false\", 1, \"moreMenu\"], [\"moreMenuTt\", \"\"], [3, \"hidden\", \"click\"], [3, \"click\"], [\"labelMenuBtn\", \"\"], [\"data-tooltip\", \"true\", \"data-is-tooltip-open\", \"false\", 1, \"colorMenu\"], [\"colorMenuTt\", \"\"], [1, \"first-row\"], [1, \"second-row\"], [\"data-tooltip\", \"true\", \"data-is-tooltip-open\", \"false\", 1, \"labelMenu\"], [\"labelMenuTt\", \"\"], [1, \"title\"], [1, \"search\"], [\"type\", \"text\", \"maxlength\", \"50\", \"placeholder\", \"Enter label name\"], [1, \"search-icon\"], [1, \"label-list-container\"], [\"class\", \"label-list\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"label-container\", 4, \"ngIf\"], [1, \"label-container\"], [1, \"label\"], [1, \"cancel-icon\", 3, \"click\"], [1, \"icons-container\"], [1, \"icons\"], [\"data-pop\", \"Remind me\", 1, \"alarm\", \"H\", \"disabled\", \"pop\"], [\"data-pop\", \"Collaborator\", 1, \"colab\", \"H\", \"disabled\", \"pop\"], [\"data-pop\", \"Background Options\", 1, \"color\", \"H\", \"pop\", 3, \"click\"], [\"colorMenuTtBtn\", \"\"], [\"data-pop\", \"Add image\", 1, \"image\", \"H\", \"disabled\", \"pop\"], [\"data-pop\", \"Archive\", 1, \"archive\", \"H\", \"pop\", 3, \"click\"], [\"data-pop\", \"More\", 1, \"more\", \"H\", \"pop\", 3, \"click\"], [\"moreMenuTtBtn\", \"\"], [\"data-pop\", \"Undo\", 1, \"undo\", \"disabled\", \"pop\"], [1, \"undo\", \"r\", \"disabled\"], [1, \"close-btn\", 3, \"click\"], [1, \"icons-container\", \"min\"], [1, \"delete\", \"H\"], [1, \"restore\", \"H\"], [1, \"note-body\", \"ph\", 3, \"hidden\"], [\"contenteditable\", \"true\", \"spellcheck\", \"true\", 1, \"note-body\", 3, \"input\", \"paste\"], [\"noteBody\", \"\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"cbox-ph-container\"], [1, \"cbox-plus-icon\"], [1, \"cbox-note-container\"], [1, \"cbox-note\", \"ph\"], [\"contenteditable\", \"true\", \"spellcheck\", \"true\", 1, \"cbox-note\", 3, \"keydown\"], [\"cboxPh\", \"\"], [4, \"ngIf\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\", 4, \"ngIf\"], [\"cboxTemplate\", \"\"], [1, \"hr\"], [1, \"cbox-done-container\", 3, \"click\"], [1, \"cbox-arrow\"], [1, \"cbox-container\"], [1, \"cbox-move-icon\"], [1, \"cbox-icon\", 3, \"click\"], [\"contenteditable\", \"true\", \"spellcheck\", \"true\", 1, \"cbox-note\", 3, \"innerHTML\", \"blur\", \"keydown\"], [\"cboxInput\", \"\"], [1, \"cbox-cancel-icon\", \"H\", 3, \"click\"], [1, \"label-list\", 3, \"click\"], [1, \"check-icon\"], [1, \"label-name\"]],\n  template: function InputComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r66 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", null, 0)(2, \"div\", 1, 2);\n      i0.ɵɵlistener(\"click\", function InputComponent_Template_div_click_2_listener() {\n        return ctx.notePhClick();\n      });\n      i0.ɵɵelement(4, \"input\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵlistener(\"click\", function InputComponent_Template_div_click_5_listener() {\n        return ctx.isCbox.next(true);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"div\", 5)(7, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7, 8)(10, \"div\", 9, 10)(12, \"div\", 11);\n      i0.ɵɵtext(13, \" Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 12, 13);\n      i0.ɵɵlistener(\"input\", function InputComponent_Template_div_input_14_listener() {\n        i0.ɵɵrestoreView(_r66);\n\n        const _r4 = i0.ɵɵreference(15);\n\n        return i0.ɵɵresetView(ctx.updateInputLength({\n          title: _r4.innerHTML.length\n        }));\n      })(\"paste\", function InputComponent_Template_div_paste_14_listener($event) {\n        return ctx.pasteEvent($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementContainer(16, 14);\n      i0.ɵɵelementStart(17, \"div\", 15);\n      i0.ɵɵtemplate(18, InputComponent_ng_container_18_Template, 2, 1, \"ng-container\", 16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 17, 18);\n      i0.ɵɵlistener(\"click\", function InputComponent_Template_div_click_19_listener() {\n        i0.ɵɵrestoreView(_r66);\n\n        const _r6 = i0.ɵɵreference(20);\n\n        return i0.ɵɵresetView(_r6.dataset[\"pinned\"] === \"false\" ? _r6.dataset[\"pinned\"] = \"true\" : _r6.dataset[\"pinned\"] = \"false\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, InputComponent_div_21_Template, 14, 0, \"div\", 19);\n      i0.ɵɵtemplate(22, InputComponent_ng_template_22_Template, 4, 0, \"ng-template\", null, 20, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(24, InputComponent_ng_template_24_Template, 4, 1, \"ng-template\", null, 21, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(26, InputComponent_ng_template_26_Template, 13, 8, \"ng-template\", null, 22, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementStart(28, \"div\", 23, 24)(30, \"div\", 25);\n      i0.ɵɵlistener(\"click\", function InputComponent_Template_div_click_30_listener() {\n        i0.ɵɵrestoreView(_r66);\n\n        const _r14 = i0.ɵɵreference(29);\n\n        return i0.ɵɵresetView(ctx.moreMenu(_r14).trash());\n      });\n      i0.ɵɵtext(31, \" Delete note \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 26, 27);\n      i0.ɵɵlistener(\"click\", function InputComponent_Template_div_click_32_listener() {\n        i0.ɵɵrestoreView(_r66);\n\n        const _r14 = i0.ɵɵreference(29);\n\n        const _r19 = i0.ɵɵreference(48);\n\n        ctx.Shared.closeTooltip(_r14);\n        return i0.ɵɵresetView(ctx.openTooltip(ctx.moreMenuTtBtn.nativeElement, _r19));\n      });\n      i0.ɵɵtext(34, \" Add label \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 25);\n      i0.ɵɵlistener(\"click\", function InputComponent_Template_div_click_35_listener() {\n        i0.ɵɵrestoreView(_r66);\n\n        const _r14 = i0.ɵɵreference(29);\n\n        return i0.ɵɵresetView(ctx.moreMenu(_r14).clone());\n      });\n      i0.ɵɵtext(36, \" Make a copy \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 26);\n      i0.ɵɵlistener(\"click\", function InputComponent_Template_div_click_37_listener() {\n        i0.ɵɵrestoreView(_r66);\n\n        const _r14 = i0.ɵɵreference(29);\n\n        return i0.ɵɵresetView(ctx.moreMenu(_r14).toggleCbox());\n      });\n      i0.ɵɵtext(38);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(39, \"div\", 28, 29)(41, \"div\", 30);\n      i0.ɵɵtemplate(42, InputComponent_ng_container_42_Template, 2, 5, \"ng-container\", 16);\n      i0.ɵɵpipe(43, \"keyvalue\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 31);\n      i0.ɵɵtemplate(45, InputComponent_ng_container_45_Template, 3, 7, \"ng-container\", 16);\n      i0.ɵɵpipe(46, \"keyvalue\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(47, \"div\", 32, 33)(49, \"div\", 34);\n      i0.ɵɵtext(50, \"Label note\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"div\", 35);\n      i0.ɵɵelement(52, \"input\", 36)(53, \"div\", 37);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"div\", 38);\n      i0.ɵɵtemplate(55, InputComponent_div_55_Template, 4, 3, \"div\", 39);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      const _r4 = i0.ɵɵreference(15);\n\n      const _r6 = i0.ɵɵreference(20);\n\n      const _r8 = i0.ɵɵreference(23);\n\n      const _r10 = i0.ɵɵreference(25);\n\n      const _r12 = i0.ɵɵreference(27);\n\n      i0.ɵɵclassProp(\"main-container\", !ctx.isEditing);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"hidden\", _r4.innerHTML.length);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.isCbox.value ? _r12 : _r10);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.labels);\n      i0.ɵɵadvance(1);\n      i0.ɵɵclassProp(\"pinned\", _r6.dataset[\"pinned\"] === \"true\");\n      i0.ɵɵattribute(\"data-pop\", _r6.dataset[\"pinned\"] === \"false\" ? \"Pin note\" : \"Unpin note\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isTrashed)(\"ngIfElse\", _r8);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"hidden\", ctx.moreMenuEls.delete.disabled);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"hidden\", ctx.moreMenuEls.copy.disabled);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.moreMenuEls.checkbox.value, \" \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(43, 16, ctx.bgColors));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(46, 18, ctx.bgImages));\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngForOf\", ctx.labels);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i2.NgTemplateOutlet, i2.KeyValuePipe, i3.ph, i4.CboxDonePipe],\n  styles: [\".main-container[_ngcontent-%COMP%] {\\n  margin: 24px auto 16px auto;\\n  max-width: 600px;\\n  width: 100%;\\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.6), 0 2px 6px 2px rgba(0, 0, 0, 0.3);\\n  position: relative;\\n}\\n\\n.disabled[_ngcontent-%COMP%] {\\n  cursor: not-allowed !important;\\n  opacity: 0.25 !important;\\n}\\n\\n.placeholder[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%] {\\n  padding: 21px 6px 11px 16px;\\n  font-family: \\\"Google Sans Light 2\\\";\\n  height: 46px;\\n  width: 100%;\\n  background-color: #202124;\\n  border: 1px solid #5f6368;\\n  border-radius: 8px;\\n}\\n\\n.placeholder[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus-visible {\\n  outline-width: 0;\\n}\\n\\n.placeholder[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder {\\n  letter-spacing: 0.00625em;\\n  font-family: \\\"Google Sans\\\";\\n  font-size: 1rem;\\n  font-weight: 500;\\n  line-height: 1.5rem;\\n  color: rgba(255, 255, 255, 0.702);\\n}\\n\\n.placeholder[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%], .placeholder[_ngcontent-%COMP%]   .paint[_ngcontent-%COMP%], .placeholder[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] {\\n  height: 46px;\\n  position: absolute;\\n  top: 1px;\\n  width: 46px;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  opacity: 0.54;\\n}\\n\\n.placeholder[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]:hover, .placeholder[_ngcontent-%COMP%]   .paint[_ngcontent-%COMP%]:hover, .placeholder[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:hover {\\n  opacity: 0.87;\\n}\\n\\n.placeholder[_ngcontent-%COMP%]   .pop.picture[_ngcontent-%COMP%]::before, .placeholder[_ngcontent-%COMP%]   .pop.paint[_ngcontent-%COMP%]::before, .placeholder[_ngcontent-%COMP%]   .pop.check[_ngcontent-%COMP%]::before {\\n  top: 45px;\\n}\\n\\n.placeholder[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] {\\n  background-image: url(/assets/images/svg/check.svg);\\n  right: 121px;\\n}\\n\\n.placeholder[_ngcontent-%COMP%]   .paint[_ngcontent-%COMP%] {\\n  background-image: url(/assets/images/svg/paint.svg);\\n  right: 67px;\\n}\\n\\n.placeholder[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%] {\\n  background-image: url(/assets/images/svg/picture.svg);\\n  right: 13px;\\n}\\n\\n.note-main[_ngcontent-%COMP%] {\\n  border: 1px solid #5f6368;\\n  border-radius: 8px;\\n  background-color: #202124;\\n}\\n\\n.note-main[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%] {\\n  background-position-x: right;\\n  background-position-y: bottom;\\n  background-size: cover;\\n}\\n\\n.note-main[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%] {\\n  padding: 10px 15px;\\n  letter-spacing: 0.00625em;\\n  font-family: \\\"Google Sans\\\";\\n  font-size: 1rem;\\n  font-weight: 500;\\n  line-height: 1.5rem;\\n  white-space: pre-wrap;\\n  word-wrap: break-word;\\n}\\n\\n.note-main[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title.ph[_ngcontent-%COMP%] {\\n  color: rgba(255, 255, 255, 0.6);\\n  position: absolute;\\n  width: 100%;\\n  pointer-events: none;\\n  padding-left: 11px;\\n}\\n\\n.note-main[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]:focus-visible {\\n  outline: 0;\\n}\\n\\n.note-main[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-body[_ngcontent-%COMP%] {\\n  letter-spacing: 0.01428571em;\\n  font-family: \\\"Google Sans\\\";\\n  font-size: 0.875rem;\\n  font-weight: 400;\\n  line-height: 1.25rem;\\n  min-height: 46px;\\n  padding: 13px 16px 12px 16px;\\n  max-height: 70vh;\\n  overflow: auto;\\n}\\n\\n.note-main[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-body.ph[_ngcontent-%COMP%] {\\n  color: rgba(255, 255, 255, 0.702);\\n  font-weight: 500;\\n  position: absolute;\\n  width: 100%;\\n  pointer-events: none;\\n}\\n\\n.note-main[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-body[_ngcontent-%COMP%]:focus-visible {\\n  outline: 0;\\n}\\n\\n.close-btn[_ngcontent-%COMP%] {\\n  margin-right: 15px;\\n  color: #dadce0;\\n  letter-spacing: 0.01785714em;\\n  font-family: \\\"Google Sans\\\";\\n  font-size: 0.875rem;\\n  font-weight: 500;\\n  line-height: 1.25rem;\\n  height: 36px;\\n  padding: 8px 24px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n}\\n\\n.close-btn[_ngcontent-%COMP%]:hover {\\n  background-color: rgba(154, 160, 166, 0.039);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsMkJBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSw0RUFBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSw4QkFBQTtFQUNBLHdCQUFBO0FBQ0Y7O0FBSUU7RUFDRSwyQkFBQTtFQUNBLGtDQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7QUFESjs7QUFHSTtFQUNFLGdCQUFBO0FBRE47O0FBSUk7RUFDRSx5QkFBQTtFQUNBLDBCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQ0FBQTtBQUZOOztBQU1FO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSw0QkFBQTtFQUNBLDJCQUFBO0VBQ0EsYUFBQTtBQUpKOztBQU1JO0VBQ0UsYUFBQTtBQUpOOztBQU9JO0VBQ0UsU0FBQTtBQUxOOztBQVNFO0VBRUUsbURBQUE7RUFDQSxZQUFBO0FBUko7O0FBV0U7RUFFRSxtREFBQTtFQUNBLFdBQUE7QUFWSjs7QUFhRTtFQUVFLHFEQUFBO0VBQ0EsV0FBQTtBQVpKOztBQWlCQTtFQUNFLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtBQWRGOztBQWdCRTtFQUNFLDRCQUFBO0VBQ0EsNkJBQUE7RUFDQSxzQkFBQTtBQWRKOztBQWlCSTtFQUNFLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSwwQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxxQkFBQTtBQWZOOztBQWlCTTtFQUNFLCtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtBQWZSOztBQWtCTTtFQUNFLFVBQUE7QUFoQlI7O0FBdUJJO0VBQ0UsNEJBQUE7RUFDQSwwQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtFQUNBLGdCQUFBO0VBQ0EsNEJBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFyQk47O0FBdUJNO0VBQ0UsaUNBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLG9CQUFBO0FBckJSOztBQXdCTTtFQUNFLFVBQUE7QUF0QlI7O0FBK0JBO0VBQ0Usa0JBQUE7RUFDQSxjQUFBO0VBQ0EsNEJBQUE7RUFDQSwwQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQTVCRjs7QUE4QkU7RUFDRSw0Q0FBQTtBQTVCSiIsImZpbGUiOiJpbnB1dC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMjRweCBhdXRvIDE2cHggYXV0bztcbiAgbWF4LXdpZHRoOiA2MDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGJveC1zaGFkb3c6IDAgMXB4IDJweCAwIHJnYigwIDAgMCAvIDYwJSksIDAgMnB4IDZweCAycHggcmdiKDAgMCAwIC8gMzAlKTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uZGlzYWJsZWQge1xuICBjdXJzb3I6IG5vdC1hbGxvd2VkICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAuMjUgIWltcG9ydGFudDtcbn1cblxuLy8/IHBsYWNlaG9sZGVyICAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi5wbGFjZWhvbGRlciB7XG4gIC5pbnB1dCB7XG4gICAgcGFkZGluZzogMjFweCA2cHggMTFweCAxNnB4O1xuICAgIGZvbnQtZmFtaWx5OiBcIkdvb2dsZSBTYW5zIExpZ2h0IDJcIjtcbiAgICBoZWlnaHQ6IDQ2cHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIwMjEyNDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNWY2MzY4O1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcblxuICAgICY6Zm9jdXMtdmlzaWJsZSB7XG4gICAgICBvdXRsaW5lLXdpZHRoOiAwO1xuICAgIH1cblxuICAgICY6OnBsYWNlaG9sZGVyIHtcbiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjAwNjI1ZW07XG4gICAgICBmb250LWZhbWlseTogXCJHb29nbGUgU2Fuc1wiO1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjVyZW07XG4gICAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcwMik7XG4gICAgfVxuICB9XG5cbiAgJWljb25zIHtcbiAgICBoZWlnaHQ6IDQ2cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMXB4O1xuICAgIHdpZHRoOiA0NnB4O1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICAgIG9wYWNpdHk6IDAuNTQ7XG5cbiAgICAmOmhvdmVyIHtcbiAgICAgIG9wYWNpdHk6IDAuODc7XG4gICAgfVxuXG4gICAgJi5wb3A6OmJlZm9yZSB7XG4gICAgICB0b3A6IDQ1cHhcbiAgICB9XG4gIH1cblxuICAuY2hlY2sge1xuICAgIEBleHRlbmQgJWljb25zO1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgvYXNzZXRzL2ltYWdlcy9zdmcvY2hlY2suc3ZnKTtcbiAgICByaWdodDogMTIxcHg7XG4gIH1cblxuICAucGFpbnQge1xuICAgIEBleHRlbmQgJWljb25zO1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgvYXNzZXRzL2ltYWdlcy9zdmcvcGFpbnQuc3ZnKTtcbiAgICByaWdodDogNjdweDtcbiAgfVxuXG4gIC5waWN0dXJlIHtcbiAgICBAZXh0ZW5kICVpY29ucztcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoL2Fzc2V0cy9pbWFnZXMvc3ZnL3BpY3R1cmUuc3ZnKTtcbiAgICByaWdodDogMTNweDtcbiAgfVxufVxuXG4vLz8gbmV3IG5vdGUgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLm5vdGUtbWFpbiB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICM1ZjYzNjg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIwMjEyNDtcblxuICAubm90ZS1jb250YWluZXIge1xuICAgIGJhY2tncm91bmQtcG9zaXRpb24teDogcmlnaHQ7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbi15OiBib3R0b207XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcblxuICAgIC8vPyB0aXRsZVxuICAgIC5ub3RlLXRpdGxlIHtcbiAgICAgIHBhZGRpbmc6IDEwcHggMTVweDtcbiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjAwNjI1ZW07XG4gICAgICBmb250LWZhbWlseTogXCJHb29nbGUgU2Fuc1wiO1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjVyZW07XG4gICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG5cbiAgICAgICYucGgge1xuICAgICAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjYpO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAxMXB4O1xuICAgICAgfVxuXG4gICAgICAmOmZvY3VzLXZpc2libGUge1xuICAgICAgICBvdXRsaW5lOiAwO1xuICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvLz8gbm90ZSBib2R5XG4gICAgLm5vdGUtYm9keSB7XG4gICAgICBsZXR0ZXItc3BhY2luZzogMC4wMTQyODU3MWVtO1xuICAgICAgZm9udC1mYW1pbHk6IFwiR29vZ2xlIFNhbnNcIjtcbiAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XG4gICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgbGluZS1oZWlnaHQ6IDEuMjVyZW07XG4gICAgICBtaW4taGVpZ2h0OiA0NnB4O1xuICAgICAgcGFkZGluZzogMTNweCAxNnB4IDEycHggMTZweDtcbiAgICAgIG1heC1oZWlnaHQ6IDcwdmg7XG4gICAgICBvdmVyZmxvdzogYXV0bztcblxuICAgICAgJi5waCB7XG4gICAgICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNzAyKTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgICY6Zm9jdXMtdmlzaWJsZSB7XG4gICAgICAgIG91dGxpbmU6IDA7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgfVxuXG59XG5cbi5jbG9zZS1idG4ge1xuICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gIGNvbG9yOiAjZGFkY2UwO1xuICBsZXR0ZXItc3BhY2luZzogMC4wMTc4NTcxNGVtO1xuICBmb250LWZhbWlseTogXCJHb29nbGUgU2Fuc1wiO1xuICBmb250LXNpemU6IDAuODc1cmVtO1xuICBmb250LXdlaWdodDogNTAwO1xuICBsaW5lLWhlaWdodDogMS4yNXJlbTtcbiAgaGVpZ2h0OiAzNnB4O1xuICBwYWRkaW5nOiA4cHggMjRweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgJjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNTQsIDE2MCwgMTY2LCAwLjAzOSk7XG4gIH1cbn0iXX0= */\"]\n});","map":{"version":3,"mappings":"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","names":["bgImages","bgColors","BehaviorSubject","i0","ctx_r31","body","check","update","_r49","remove","InputComponent","constructor","cd","Shared","title","cb","delete","disabled","copy","checkbox","value","event","isEditing","el","main","nativeElement","isTooltipOpen","document","querySelector","contains","target","saveNote","closeNote","bgColor","data","noteMain","style","backgroundColor","borderColor","bgImage","noteContainer","backgroundImage","toggleNoteVisibility","condition","notePlaceholder","hidden","notePhClick","isCbox","cboxPh","focus","noteBody","inputLength","next","addEventListener","mouseDownEvent","labels","JSON","parse","stringify","label","list","removeEventListener","reset","cboxInput","blur","noteObj","noteTitle","innerHTML","pinned","notePin","dataset","checkBoxes","filter","x","added","archived","isArchived","trashed","isTrashed","length","note","db","closeModal","id","add","snackBar","action","opposite","isCboxCompletedListCollapsed","pasteEvent","preventDefault","text","clipboardData","getData","innerText","sel","window","getSelection","selectAllChildren","collapseToEnd","cboxPhKeyDown","$event","isLetter","test","key","enteredValue","addCheckBox","detectChanges","push","done","cBoxKeyDown","cboxTools","i","findIndex","actions","splice","elValue","innerData","String","forEach","noteLabel","find","name","openTooltip","button","tooltipEl","createTooltip","moreMenu","trash","clone","toggleCbox","closeTooltip","updateInputLength","type","undefined","ngAfterViewInit","saveNoteSubscription","subscribe","moreMenuEls","noteToEdit","ngOnInit","ngOnDestroy","unsubscribe","selectors","viewQuery","ctx","_r6","_r8"],"sourceRoot":"","sources":["C:\\Users\\haris\\OneDrive\\Desktop\\google-keeps\\src\\app\\components\\input\\input.component.ts","C:\\Users\\haris\\OneDrive\\Desktop\\google-keeps\\src\\app\\components\\input\\input.component.html"],"sourcesContent":["import { NoteI, CheckboxI } from '../../interfaces/notes';\nimport { Component, OnInit, ViewChild, ElementRef, ChangeDetectorRef, Input } from '@angular/core';\nimport { bgImages, bgColors } from 'src/app/interfaces/tooltip';\nimport { SharedService } from 'src/app/services/shared.service';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { LabelI } from 'src/app/interfaces/labels';\ntype InputLengthI = { title?: number, body?: number, cb?: number }\n@Component({\n  selector: 'app-input',\n  templateUrl: './input.component.html',\n  styleUrls: ['./input.component.scss']\n})\nexport class InputComponent implements OnInit {\n  constructor(private cd: ChangeDetectorRef, public Shared: SharedService) { }\n\n  @ViewChild(\"main\") main!: ElementRef<HTMLDivElement>\n  //? Placeholder  ----------------------------------------------------\n  @ViewChild(\"notePlaceholder\") notePlaceholder!: ElementRef<HTMLDivElement>\n  //? note  -----------------------------------------------------\n  @ViewChild(\"noteMain\") noteMain!: ElementRef<HTMLDivElement>\n  @ViewChild(\"noteContainer\") noteContainer!: ElementRef<HTMLDivElement>\n  @ViewChild(\"noteTitle\") noteTitle!: ElementRef<HTMLDivElement>\n  @ViewChild(\"noteBody\") noteBody?: ElementRef<HTMLDivElement>\n  @ViewChild(\"notePin\") notePin!: ElementRef<HTMLDivElement>\n  //? checkbox  -----------------------------------------------------\n  @ViewChild(\"cboxInput\") cboxInput!: ElementRef<HTMLDivElement>\n  @ViewChild(\"cboxPh\") cboxPh?: ElementRef<HTMLDivElement>\n  @ViewChild(\"moreMenuTtBtn\") moreMenuTtBtn?: ElementRef<HTMLDivElement> // needed in the html\n  //? -----------------------------------------------------\n  @Input() isEditing = false\n  @Input() noteToEdit: NoteI = {} as NoteI\n  //? -----------------------------------------------------\n  checkBoxes: CheckboxI[] = []\n  labels: LabelI[] = []\n  isArchived = false\n  isTrashed = false\n  isCboxCompletedListCollapsed = false\n  isCbox = new BehaviorSubject<boolean>(false)\n  inputLength = new BehaviorSubject<InputLengthI>({ title: 0, body: 0, cb: 0 })\n  //\n  bgColors = bgColors\n  bgImages = bgImages\n  moreMenuEls = {\n    delete: {\n      disabled: true,\n    },\n    copy: {\n      disabled: true,\n    },\n    checkbox: {\n      value: 'Show checkboxes'\n    },\n  }\n  //? placeholder  --------------------------------------------------\n\n  toggleNoteVisibility(condition: boolean) {\n    if (condition) {\n      this.notePlaceholder.nativeElement.hidden = true; this.noteMain.nativeElement.hidden = false\n    } else {\n      this.notePlaceholder.nativeElement.hidden = false; this.noteMain.nativeElement.hidden = true\n    }\n  }\n\n  notePhClick() {\n    this.toggleNoteVisibility(true)\n    if (this.isCbox.value) this.cboxPh?.nativeElement.focus()\n    else this.noteBody?.nativeElement.focus()\n    if (!this.isEditing) {\n      this.inputLength.next({ title: 0, body: 0, cb: 0 })\n      document.addEventListener('mousedown', this.mouseDownEvent)\n    }\n    this.labels = JSON.parse(JSON.stringify(this.Shared.label.list))\n    /*\n    the correct way is to use `mousedown` because : \n    https://www.javascripttutorial.net/javascript-dom/javascript-mouse-events/\n    click & mouseup, wont get the job done.\n    when u try to select a text, and you loose the click btn outside `notesContainer`,\n    `closeNote()` will be called\n    https://prnt.sc/Wu_19wKRAYig\n    */\n  }\n\n  mouseDownEvent = (event: Event) => {\n    if (this.isEditing) return\n    let el = this.main.nativeElement\n    let isTooltipOpen: any = document.querySelector('[data-is-tooltip-open=\"true\"]')\n    // if tooltip is open, we close is\n    if (isTooltipOpen !== null) {\n      if (!(el as any).contains(event.target) && !isTooltipOpen.contains(event.target)) { }\n    }\n    // else we close the note\n    else if (!(el as any).contains(event.target)) {\n      this.saveNote(); this.closeNote()\n    }\n  }\n\n  closeNote() {\n    this.toggleNoteVisibility(false)\n    document.removeEventListener('mousedown', this.mouseDownEvent)\n    this.reset()\n  }\n\n  //? note  -----------------------------------------------------\n\n  async saveNote() {\n    this.cboxInput?.nativeElement.blur()\n    let noteObj: NoteI = {\n      noteTitle: this.noteTitle.nativeElement.innerHTML,\n      noteBody: this.noteBody?.nativeElement.innerHTML ? this.noteBody?.nativeElement.innerHTML : '',\n      pinned: this.notePin.nativeElement.dataset['pinned'] === \"true\", // converting string to bool,\n      bgColor: this.noteMain.nativeElement.style.backgroundColor,\n      bgImage: this.noteContainer.nativeElement.style.backgroundImage,\n      checkBoxes: this.checkBoxes,\n      isCbox: this.isCbox.value,\n      labels: this.labels.filter(x => x.added),\n      archived: this.isArchived,\n      trashed: this.isTrashed\n    }\n    if (noteObj.noteTitle.length || noteObj.noteBody && noteObj.noteBody?.length || this.checkBoxes.length) {\n      if (this.isEditing) {\n        this.Shared.note.db.update(noteObj)\n        this.Shared.closeModal.next(true)\n      } else {\n        let id = await this.Shared.note.db.add(noteObj)\n        if (this.isArchived) {\n          this.Shared.snackBar({ action: 'archived', opposite: 'unarchived' }, { archived: false }, id)\n        }\n        if (this.isTrashed) {\n          this.Shared.snackBar({ action: 'trashed', opposite: 'untrashed' }, { trashed: false }, id)\n        }\n        this.closeNote()\n      }\n    }\n  }\n\n  reset() {\n    this.noteTitle.nativeElement.innerHTML = ''\n    if (this.noteBody) this.noteBody.nativeElement.innerHTML = ''\n    this.notePin.nativeElement.dataset['pinned'] = 'false'\n    this.noteContainer.nativeElement.style.backgroundImage = ''\n    this.noteMain.nativeElement.style.backgroundColor = ''\n    this.noteMain.nativeElement.style.borderColor = ''\n    //\n    this.checkBoxes = []\n    this.isCbox.next(false)\n    this.isArchived = false\n    this.isTrashed = false\n    this.isCboxCompletedListCollapsed = false\n    this.inputLength.next({ title: 0, body: 0, cb: 0 })\n  }\n\n\n  pasteEvent(event: ClipboardEvent) {\n    // to remove text styling -> before : https://prnt.sc/a7M5g-kbofba, after : https://prnt.sc/D7KEV6rdlm_7\n    event.preventDefault()\n    let text = event.clipboardData?.getData('text/plain');\n    let target = event.target as HTMLDivElement\n    target.innerText += text\n    let sel = window.getSelection()\n    sel?.selectAllChildren(target)\n    sel?.collapseToEnd()\n    // document.execCommand('insertText', false, text)\n    // ! TODO, when u paste, yji fel <br> => so ywali maybanch\n  }\n\n\n  //? checkboxes  --------------------------------------------------\n\n  cboxPhKeyDown($event: KeyboardEvent) {\n    $event.preventDefault()\n    const isLetter = /^[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"²^\\\\|,.<>\\/?éèçµ]$/i.test($event.key)\n    // ex : if he clicked the f1 btn for example, nothing would happen, otherwise : \n    if (!isLetter) return\n    let enteredValue = $event.key\n    this.addCheckBox(enteredValue) // a new checkbox will appear in the html\n    this.cd.detectChanges()\n    let el = document.querySelector(`[data-cbox-last=\"true\"]`)\n    // we move the cursor to the end, so the user will just continue what he typed before\n    let sel = window.getSelection()\n    if (el) sel?.selectAllChildren(el)\n    sel?.collapseToEnd()\n  }\n\n  addCheckBox(data: string) {\n    this.checkBoxes.push({\n      done: false,\n      data: data,\n      id: this.checkBoxes.length\n    })\n    this.inputLength.next({ ...this.inputLength.value, cb: this.checkBoxes.length })\n  }\n\n  cBoxKeyDown($event: KeyboardEvent, id: number) {\n    let target = $event.target as HTMLDivElement\n    if ($event.key === 'Enter') {\n      $event.preventDefault()\n      this.cboxPh!.nativeElement.focus()\n    }\n    if ($event.key === 'Backspace' && target.innerText.length === 0) {\n      this.cboxPh!.nativeElement.focus()\n      this.cboxTools(id).remove()\n    }\n  }\n\n\n  cboxTools(id: number) {\n    let i = this.checkBoxes.findIndex(x => x.id === id)\n    let actions = {\n      remove: () => {\n        this.checkBoxes.splice(i, 1)\n        this.inputLength.next({ ...this.inputLength.value, cb: this.checkBoxes.length })\n      },\n      check: () => {\n        this.checkBoxes[i].done = !this.checkBoxes[i].done\n      },\n      update: (el: HTMLDivElement) => {\n        let elValue = el?.innerHTML\n        this.checkBoxes[i].data = elValue\n      }\n    }\n    return actions\n  }\n\n  //? isEditing  -----------------------------------------------------------\n\n  innerData(note: NoteI) {\n    this.notePhClick()\n    this.noteTitle.nativeElement.innerHTML = note.noteTitle\n    if (this.noteBody) this.noteBody.nativeElement.innerHTML = note.noteBody!\n    this.notePin.nativeElement.dataset['pinned'] = String(note.pinned)\n    this.noteContainer.nativeElement.style.backgroundImage = note.bgImage\n    this.noteMain.nativeElement.style.backgroundColor = note.bgColor\n    this.noteMain.nativeElement.style.borderColor = note.bgColor\n    if (note.checkBoxes) this.checkBoxes = note.checkBoxes\n    this.isCbox.next(note.isCbox)\n    this.isArchived = note.archived\n    this.isTrashed = note.trashed\n    //\n    this.inputLength.next({ title: note.noteTitle.length, body: note.noteBody ? note.noteBody?.length : 0, cb: note.checkBoxes?.length! })\n    note.labels.forEach(noteLabel => {\n      let label = this.labels.find(x => x.name === noteLabel.name)\n      if (label) label.added = noteLabel.added\n    })\n    this.cd.detectChanges()\n  }\n\n  //? tooltip  -----------------------------------------------------------\n\n  openTooltip(button: HTMLDivElement, tooltipEl: HTMLDivElement) {\n    this.Shared.createTooltip(button, tooltipEl)\n  }\n\n  moreMenu(tooltipEl: HTMLDivElement) {\n    let actions = {\n      trash: () => {\n        if (this.isEditing) {\n          this.Shared.note.db.trash()\n          this.Shared.closeModal.next(true)\n        } else {\n          this.isTrashed = true\n          this.saveNote()\n        }\n      },\n      clone: () => {\n        this.saveNote()\n      },\n      toggleCbox: () => {\n        this.isCbox.next(!this.isCbox.value)\n      }\n    }\n    this.Shared.closeTooltip(tooltipEl)\n    return actions\n  }\n\n  colorMenu = {\n    bgColor: (data: bgColors) => {\n      this.noteMain.nativeElement.style.backgroundColor = data\n      this.noteMain.nativeElement.style.borderColor = data\n    },\n    bgImage: (data: bgImages) => {\n      this.noteContainer.nativeElement.style.backgroundImage = `url(${data})`\n    }\n  }\n\n  //?  -----------------------------------------------------------\n  // cuz we don't have the spread operator in the template, we need to do this : \n  updateInputLength(type: InputLengthI) {\n    if (type.title != undefined) this.inputLength.next({ ...this.inputLength.value, title: type.title })\n    if (type.body != undefined) this.inputLength.next({ ...this.inputLength.value, body: type.body })\n  }\n\n\n  //? -----------------------------------------------------------\n\n  saveNoteSubscription?: Subscription\n  ngAfterViewInit() {\n    if (this.isEditing) { this.saveNoteSubscription = this.Shared.saveNote.subscribe(x => { if (x) this.saveNote() }) }\n    //? ----------------------------------------------------------------\n    this.isCbox.subscribe(value => {\n      if (value) this.moreMenuEls.checkbox.value = 'Hide checkboxes'\n      else this.moreMenuEls.checkbox.value = 'Show checkboxes'\n    })\n    //? ----------------------------------------------------------------\n    this.inputLength.subscribe(x => {\n      if ((x.title) || (x.body) || (x.cb)) {\n        this.moreMenuEls.delete.disabled = false\n        this.moreMenuEls.copy.disabled = false\n      } else {\n        this.moreMenuEls.delete.disabled = true\n        this.moreMenuEls.copy.disabled = true\n      }\n    })\n    if (this.isEditing) {\n      this.innerData(this.noteToEdit)\n    }\n  }\n\n  ngOnInit(): void { }\n\n  ngOnDestroy() { this.saveNoteSubscription?.unsubscribe() }\n\n}\n","<div #main [class.main-container]=\"!isEditing\">\n    <!--? placeholder -->\n    <div #notePlaceholder (click)=\"notePhClick()\" class=\"placeholder\">\n        <input class=\"input\" placeholder=\"Take a note…\" type=\"text\">\n        <div class=\"check H pop\" data-pop=\"New list\" (click)=\"isCbox.next(true)\"></div>\n        <div class=\"paint H disabled pop\" data-pop=\"New note with drawing\"></div>\n        <div class=\"picture H disabled\" data-pop=\"New note with image\"></div>\n    </div>\n    <!--? new note -->\n    <div #noteMain class=\"note-main\" hidden>\n        <div #noteContainer class=\"note-container\">\n            <div [hidden]=\"noteTitle.innerHTML.length\" class=\"note-title ph\"> Title</div>\n            <div #noteTitle (input)=\"updateInputLength({title:noteTitle.innerHTML.length})\" (paste)=\"pasteEvent($event)\"\n                class=\"note-title\" contenteditable=\"true\" spellcheck=\"true\">\n            </div>\n            <!--? note OR checkboxes -->\n            <ng-container [ngTemplateOutlet]=\"isCbox.value ? checkboxesTemplate : noteTemplate\">\n            </ng-container>\n            <!--? labels -->\n            <div class=\"labels-container\">\n                <ng-container *ngFor=\"let label of labels\">\n                    <div class=\"label-container\" *ngIf=\"label.added\">\n                        <div class=\"label\"><span>{{label.name}}</span>\n                            <div class=\"cancel-icon\" (click)=\"label.added = !label.added\"></div>\n                        </div>\n                    </div>\n                </ng-container>\n            </div>\n        </div>\n        <div #notePin data-pinned=\"false\" [class.pinned]=\"notePin.dataset['pinned'] === 'true'\" class=\"pin-icon H pop\"\n            (click)=\"notePin.dataset['pinned'] === 'false' ? notePin.dataset['pinned']='true': notePin.dataset['pinned']='false'\"\n            [attr.data-pop]=\"notePin.dataset['pinned'] === 'false' ? 'Pin note':'Unpin note' \">\n        </div>\n        <!--? icons -->\n        <div class=\"icons-container\" *ngIf=\"!isTrashed;else trashed\">\n            <div class=\"icons\">\n                <div class=\"alarm H disabled pop\" data-pop=\"Remind me\"></div>\n                <div class=\"colab H disabled pop\" data-pop=\"Collaborator\"></div>\n                <div #colorMenuTtBtn class=\"color H pop\" data-pop=\"Background Options\"\n                    (click)=\"openTooltip(colorMenuTtBtn,colorMenuTt)\">\n                </div>\n                <div class=\"image H disabled pop\" data-pop=\"Add image\"></div>\n                <div class=\"archive H pop\" (click)=\"isArchived = true;saveNote()\" data-pop=\"Archive\"></div>\n                <div #moreMenuTtBtn class=\"more H pop\" data-pop=\"More\" (click)=\"openTooltip(moreMenuTtBtn,moreMenuTt)\">\n                </div>\n                <div class=\"undo disabled pop\" data-pop=\"Undo\"></div>\n                <div class=\"undo r disabled\"></div>\n            </div>\n            <div class=\"close-btn\" (click)=\"saveNote()\"> Close </div>\n        </div>\n        <!--? icons if trashed -->\n        <ng-template #trashed>\n            <div class=\"icons-container min\">\n                <div class=\"icons\">\n                    <div class=\"delete H\"></div>\n                    <div class=\"restore H\"></div>\n                </div>\n            </div>\n        </ng-template>\n    </div>\n</div>\n\n<!--* templates -->\n<!--* note template -->\n<ng-template #noteTemplate>\n    <div [hidden]=\"noteBody.innerHTML.length\" class=\"note-body ph\">Take a note…</div>\n    <div #noteBody (input)=\"updateInputLength({body:noteBody.innerHTML.length})\" (paste)=\"pasteEvent($event)\"\n        class=\"note-body\" contenteditable=\"true\" spellcheck=\"true\">\n    </div>\n</ng-template>\n<!--* cboxes template -->\n<ng-template #checkboxesTemplate>\n    <!--? isDone: false -->\n    <ng-container [ngTemplateOutlet]=\"cboxTemplate\" [ngTemplateOutletContext]=\"{ isDone: false }\">\n    </ng-container>\n    <div class=\"cbox-ph-container\">\n        <div class=\"cbox-plus-icon\"></div>\n        <div class=\"cbox-note-container\">\n            <div class=\"cbox-note ph\">List item</div>\n            <div #cboxPh (keydown)=\"cboxPhKeyDown($event)\" class=\"cbox-note\" contenteditable=\"true\" spellcheck=\"true\">\n            </div>\n        </div>\n    </div>\n    <!--? isDone: true -->\n    <ng-container *ngIf=\"(checkBoxes | cboxDone:true).length\">\n        <div class=\"hr\"></div>\n        <div class=\"cbox-done-container\" (click)=\"isCboxCompletedListCollapsed = !isCboxCompletedListCollapsed\">\n            <div [class.rotate]=\"!isCboxCompletedListCollapsed\" class=\"cbox-arrow\"></div>\n            <div>\n                <span>({{(checkBoxes | cboxDone:true).length}}) Completed item</span>\n            </div>\n        </div>\n    </ng-container>\n    <ng-container *ngIf=\"!isCboxCompletedListCollapsed\" [ngTemplateOutlet]=\"cboxTemplate\"\n        [ngTemplateOutletContext]=\"{ isDone: true }\">\n    </ng-container>\n\n    <!--* cbox template -->\n    <ng-template let-isDone=\"isDone\" #cboxTemplate>\n        <ng-container *ngFor=\"let cb of checkBoxes | cboxDone:isDone;let last = last\">\n            <div class=\"cbox-container\">\n                <div class=\"cbox-move-icon\"></div>\n                <div [class.done]=\"cb.done\" class=\"cbox-icon\" (click)=\"cboxTools(cb.id).check()\"></div>\n                <div class=\"cbox-note-container\">\n                    <div #cboxInput [attr.data-cbox-last]=\"last\" [class.cbox-done]=\"cb.done\"\n                        (blur)=\"cboxTools(cb.id).update(cboxInput)\" (keydown)=\"cBoxKeyDown($event,cb.id)\"\n                        class=\"cbox-note\" contenteditable=\"true\" spellcheck=\"true\" [innerHTML]=\"cb.data\">\n                    </div>\n                </div>\n                <div class=\"cbox-cancel-icon H\" (click)=\"cboxTools(cb.id!).remove()\"></div>\n            </div>\n        </ng-container>\n    </ng-template>\n</ng-template>\n\n<!--? --------tooltips-------- -->\n\n<!--? more MENU -->\n<div #moreMenuTt data-tooltip=\"true\" data-is-tooltip-open=\"false\" class=\"moreMenu\">\n    <div [hidden]=\"moreMenuEls.delete.disabled\" (click)=\"moreMenu(moreMenuTt).trash()\">\n        Delete note\n    </div>\n    <div #labelMenuBtn\n        (click)=\"this.Shared.closeTooltip(moreMenuTt);openTooltip(moreMenuTtBtn!.nativeElement,labelMenuTt)\">\n        Add label\n    </div>\n    <!-- <div [hidden]=\"moreMenuEls.drawing.disabled\">{{moreMenuEls.drawing.value}}</div> -->\n    <div [hidden]=\"moreMenuEls.copy.disabled\" (click)=\"moreMenu(moreMenuTt).clone()\">\n        Make a copy\n    </div>\n    <div (click)=\"moreMenu(moreMenuTt).toggleCbox()\">\n        {{moreMenuEls.checkbox.value}}\n    </div>\n    <!-- <div [hidden]=\"moreMenuEls.gdocs.disabled\">{{moreMenuEls.gdocs.value}}</div> -->\n</div>\n<!--? color MENU -->\n<div #colorMenuTt data-tooltip=\"true\" data-is-tooltip-open=\"false\" class=\"colorMenu\">\n    <div class=\"first-row\">\n        <ng-container *ngFor=\"let color of bgColors | keyvalue\">\n            <div [attr.data-bg-color]=\"color.key\" [style.background-color]=\"color.value\"\n                (click)=\"colorMenu.bgColor(color.value)\" [class.nocolor]=\"color.value === ''\">\n            </div>\n        </ng-container>\n    </div>\n    <div class=\"second-row\">\n        <ng-container *ngFor=\"let image of bgImages | keyvalue\">\n            <div [attr.data-bg-image]=\"image.key\" [style.background-image]=\"image.value | ph\"\n                (click)=\"colorMenu.bgImage(image.value)\" [class.noimage]=\"image.value === ''\">\n            </div>\n        </ng-container>\n    </div>\n</div>\n<!--? label MENU -->\n<div #labelMenuTt data-tooltip=\"true\" data-is-tooltip-open=\"false\" class=\"labelMenu\">\n    <div class=\"title\">Label note</div>\n    <div class=\"search\">\n        <input type=\"text\" maxlength=\"50\" placeholder=\"Enter label name\">\n        <div class=\"search-icon\"></div>\n    </div>\n    <div class=\"label-list-container\">\n        <div class=\"label-list\" *ngFor=\"let label of labels\" (click)=\"label.added = !label.added\">\n            <div [class.done]='label.added' class=\"check-icon\"></div>\n            <div class=\"label-name\">{{label.name}}</div>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module"}